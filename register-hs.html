<!DOCTYPE html>
<html>
<head>
	<title>HS Camp Sign-up | CampLIVE: Verified</title>
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
	<link rel="icon" href="img/favicon.svg">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Navbar  -->
  <nav class="navbar navbar-expand-sm navbar-dark clearfix bg-dark">
		<div class="container" style="max-width:1200px">
    	<a class="navbar-brand" href="/"><img class="mr-3" src="img/camp-logo-white.svg" height="40px">HS Camp Registration</a>
		</div>
  </nav>
	<div id="form-proper">
		<div class="container">
			<div class="row">
				<div id="form-splash" class="col-sm-6">
          <img src="img/rooted.png" width=576>
				</div>
				<div id="form-body" class="col-sm-6" style="padding-top:50px">
					<div class="col-12">
						<div class="row">
							<div class="form-title" style="color:#EF694B;font-size:2rem;line-height:normal;padding-bottom:2rem">
								tell us <img src="img/favicon.svg" height=40px style="margin-top:-1.5rem;margin-left:-0.3rem"><br>about yourself
							</div>
						</div>
						<div class="row">
					    <form id="step1" class="frm needs-validation">
								<div class="form-row">
									<div class="col-12">
										<label for="email">Email</label>
										<input required type="email" class="form-control" name="email" placeholder="email" />
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-6">
										<label for="first_name">First name</label>
										<input required type="text" class="form-control" name="first_name" placeholder="first name" />
									</div>
									<div class="col-sm-6">
										<label for="last_name">Last name</label>
										<input required type="text" class="form-control" name="last_name" placeholder="last name" />
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-6">
										<label for="nickname">Nickname</label>
										<input required type="text" class="form-control" name="nickname" placeholder="nickname" />
									</div>
									<div class="col-sm-6">
										<label for="gender">Gender</label>
										<div class="input-group">
											<input required type="text" class="form-control text-left dropdown-toggle readonly" pattern="Male|Female" name="gender" placeholder="gender" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"/>
											<div class="dropdown-menu">
									      <a class="dropdown-item">Male</a>
									      <a class="dropdown-item">Female</a>
									    </div>
										</div>
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-12">
										<label for="birthday">Birthday (MM/DD/YYYY)</label>
										<div class="row">
											<div class="col-3 pr-1">
												<input required type="number" min=01 max=12 class="form-control" name="birthmonth" placeholder="MM" />
											</div>
											<div class="col-3 px-1">
												<input required type="number" min=01 max=31 class="form-control" name="birthday" placeholder="DD" />
											</div>
											<div class="col-6 pl-1">
												<input required type="number" min=1980 max=2008 class="form-control" name="birthyear" placeholder="YYYY" />
											</div>
										</div>
									</div>
								</div>
					      <div class="float-right">
					      	<button class="btn btn-primary btn-control open2" type="button">next</button>
					      </div>
					    </form>
					    <form id="step2" class="frm -hide needs-validation">
								<div class="form-row">
									<div class="col-12">
										<label for="school">School</label>
										<input required type="text" class="form-control" name="school" placeholder="school" />
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-6">
										<label for="year">Incoming Year Level</label>
										<input required type="text" class="form-control text-left dropdown-toggle readonly" name="year" placeholder="year" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"/>
										<div class="dropdown-menu" style="width:100%">
											<a class="dropdown-item">Gr 7</a>
											<a class="dropdown-item">Gr 8</a>
											<a class="dropdown-item">Gr 9</a>
											<a class="dropdown-item">Gr 10</a>
											<a class="dropdown-item">Gr 11</a>
											<a class="dropdown-item">Gr 12</a>
											<a class="dropdown-item">N/A</a>
										</div>
									</div>
									<div class="col-sm-6">
										<label for="facebook_id">Facebook id (optional)</label>
										<input type="text" class="form-control" name="facebook_id" placeholder="facebook id" />
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-6">
										<label for="mobileno">Mobile no (09XXXXXXXXX)</label>
										<input required type="tel" minlength="11" class="form-control" name="mobileno" placeholder="mobile number" />
									</div>
								</div>
								<div class="form-row">
									<div class="col-sm-12">
										<label for="notes">Special concerns (optional)</label>
										<textarea class="form-control" name="notes" rows="3" placeholder="Allergies, requests, etc."></textarea>
									</div>
								</div>
					      <div class="float-right">
					      	<button class="btn btn-primary btn-control back2" type="button">back</button>
									<button class="btn btn-primary btn-control open3" type="button">next</button>
					      </div>
							</form>
							<form id="step3" class="frm -hide needs-validation">
								<div class="form-row">
									<div class="col-12">
										<div class="form-check">
											<input required class="form-check-input" type="checkbox" name="policy" id="policyCheck">
										  <label class="form-check-label" for="policyCheck">
												I agree to the <a href="#terms" data-toggle="modal" data-target="#terms">Terms and Conditions</a>
											</label>

											<div class="modal fade" id="terms" tabindex="-1" role="dialog" aria-labelledby="terms" aria-hidden="true">
											  <div class="modal-dialog" role="document">
											    <div class="modal-content">
											      <div class="modal-header">
											        <h5 class="modal-title" id="exampleModalLabel">Terms and Conditions</h5>
											        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
											          <span aria-hidden="true">&times;</span>
											        </button>
											      </div>
											      <div class="modal-body" style="font-size:0.8rem">
																	Where you have provided us with your personal data by the  filling up of the summer camp form or through any of the GCF Youth LIVE webpages and affiliates, in providing or making available the personal data, whether directly or through another person, you hereby agree and consent to our collecting, using, disclosing, sharing and otherwise processing the personal data to help us perform the obligations we have with you, communicate with you, or meet any of the purposes GCF Youth LIVE sets out.
											      </div>
											    </div>
											  </div>
											</div>
										</div>
									</div>
								</div>
					      <div class="float-right">
					      	<button class="btn btn-primary btn-control back3" type="button">back</button>
									<button id="form-sub" type="submit" class="form-sub btn btn-primary btn-control">Submit</button>
					      </div>
							</form>
							<form id="step4" class="frm -hide">
								<div class="form-row">
									<div class="col-12">
										<p>Thank you for registering for camp! Kindly check your email for the waiver form.</p>
									</div>
								</div>
					      <div class="float-right">
					      	<button class="btn btn-primary btn-control" type="button" onClick="window.location.href=window.location.href">New Registration</button>
					      </div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<footer class="bg-dark pt-4 pb-2">
		<div class="container d-md-flex flex-row-reverse" style="max-width:1200px">
	    <div class="frm ml-auto">
	      <h4 class="text-white">Any questions?</h4>
	      <form class="frm">
          <div class="form-row">
	          <input required type="text" class="form-control" id="inputName" name="name" placeholder="name" required>
          </div>
          <div class="form-row">
            <input required type="email" class="form-control" id="inputEmail" name="email" placeholder="email" required></input>
          </div>
          <div class="form-row">
            <textarea required class="form-control" id="inputMessage" name="message" rows="3" placeholder="your message here.." required></textarea>
          </div>
          <div class="text-right">
	          <button id="form-sub" type="submit" class="form-sub btn btn-light">Submit</button>
	        </div>
	      </form>
	    </div>
	    <div class="mr-auto text-white pt-3">
	      <img src="img/gcf-logo-white.png" width=100px/>
	      <div class="py-3">
	        <b>Greenhills Christian Fellowship</b>
	        <br>Ruby corner Garnet Roads, Ortigas Center,
	        <br>Pasig City, Philippines 1605
	      </div>
	      <div class="py-3">
	        <span class="fa-layers fa-3x mr-2"><a href="https://facebook.com/gcfyouthlive">
	          <i class="fas fa-circle" style="color:#EF694B"></i>
	          <i class="fab fa-facebook-f fa-inverse" data-fa-transform="shrink-6"></i>
	        </a></span>
	        <span class="fa-layers fa-3x mr-2"><a href="https://www.instagram.com/gcfyouthlive/">
	          <i class="fas fa-circle" style="color:#EF694B"></i>
	          <i class="fab fa-instagram fa-inverse" data-fa-transform="shrink-6"></i>
	        </a></span>
	        <span class="fa-layers fa-3x mr-2"><a href="mailto:youthlive@gcf.org.ph">
	          <i class="fas fa-circle" style="color:#EF694B"></i>
	          <i class="fas fa-envelope fa-inverse" data-fa-transform="shrink-7"></i>
	        </a></span>
	      </div>
	      <div class="pb-3">
	        &copy; 2018 Greenhills Christian Fellowship
	      </div>
	    </div>
		</div>
  </footer>


<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/popper.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script>
  $(document).ready(function(){
		var $root = $('html, body');
		$('.readonly').keydown(function(e) {
			e.preventDefault();
		});
		$('.readonly').on('keydown paste', function(e) {
			e.preventDefault();
		});
		$('.readonly').on('focus', function() {
			$(this).trigger('blur');
		});

		$(".frm a").click(function() {
			var value = $(this).html();
			$(this).parents('.dropdown-menu').siblings('input').prop("value",value).css("opacity","1");
		});

		$(".open2").click(function() {
			var form = $(".frm#step1")[0];
			form.classList.add('was-validated');
			if (form.checkValidity() === false) {
				return false;
			}
			else {
				$(".frm#step1").hide("fast");
				$(".frm#step2").show("slow");
				$root.animate({
					scrollTop: $("#form-body").offset().top
				}, 500);
				return true;
			}
		});
    $(".back2").click(function () {
      $(".frm#step2").hide("fast");
      $(".frm#step1").show("slow");
			$root.animate({
				scrollTop: $("#form-body").offset().top
			}, 500);
    });
		$(".open3").click(function() {
			var form = $(".frm#step2")[0];
			if (form.checkValidity() === false) {
				form.classList.add('was-validated');
			}
			else {
				$(".frm#step2").hide("fast");
				$(".frm#step3").show("slow");
				$root.animate({
					scrollTop: $("#form-body").offset().top
				}, 500);
			}
		});
		$(".back3").click(function () {
      $(".frm#step3").hide("fast");
      $(".frm#step2").show("slow");
			$root.animate({
				scrollTop: $("#form-body").offset().top
			}, 500);
    });

    $( "form#step3" ).submit(function (e) {
      e.preventDefault();
			var form_data = $("#step1 input:input, #step2 input:input, #step2 textarea:input");
			data = {};
			for (each of form_data) {
				data[each.name] = each.value;
			}
			data.camp = "HS";
			data.birthdate = data.birthyear + '-' + data.birthmonth + '-' + data.birthday;
			$.ajax({
			  url: 'https://api.gcfyouthlive.com/campers',
			  // url: 'http://localhost:3000/campers',
			  type: "POST",
			  data: JSON.stringify(data),
			  contentType: "application/json; charset=utf-8",
			  dataType: "json",
			  success: function(response) {
					$(".frm#step3").hide("fast");
					$(".frm#step4").show("slow");
					$root.animate({
						scrollTop: $("#form-body").offset().top
					}, 500);
			  },
				// error: function(){
				// 	$(".frm#step3").hide("fast");
				// 	$(".frm#step4").show("slow");
				// 	$root.animate({
				// 		scrollTop: $("#form-body").offset().top
				// 	}, 500);
			  // }
			});
    });
	});
</script>


</body>
</html>
